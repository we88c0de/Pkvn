!function(t){t(["jquery","api","translate","utils"],function(t,e,n,a){function o(){e.POST("/api/getDeposit","",s,l)}function s(e,o,s){var l=t.parseJSON(e);if(""==l.PendingRequest.FromBankName){if(t("#depositTitle").css("display","table-cell"),t("#questionTitle").css("display","none"),t("#tblDepositInner").css("display","table"),t("#tblDepositBoard").css("display","table"),t("#tblDespositPending").css("display","none"),t.trim(l.BankInfoFrom.BankName.length)>0&&l.BankListFrom.push(l.BankInfoFrom.BankName),l.BankListFrom.length>0)for(t("#lstDepositFromBankName").find("option").remove(),i=0;i<l.BankListFrom.length;i++)l.BankListFrom[i]==l.BankInfoFrom.BankName?(t("#lstDepositFromBankName").append('<option value="'+l.BankListFrom[i]+'" selected="selected">'+l.BankListFrom[i]+"</option>").attr("disabled","disabled"),t("#txtDepositFromAccountName").val(l.BankInfoFrom.AccName).attr("disabled","disabled"),t("#txtDepositFromAccountNumber").val(l.BankInfoFrom.AccNo).attr("disabled","disabled")):t("#lstDepositFromBankName").append('<option value="'+l.BankListFrom[i]+'">'+l.BankListFrom[i]+"</option>");if(l.BankListTo.length>0){if(l.BankListTo.length>0){t("#lstDepositToBankName").find("option").remove();var d=0,r=!1;for(i=0;i<l.BankListTo.length;i++){var c="";if(l.BankListTo[i].BankName==l.BankInfoFrom.BankName){d=i;var c="selected";(new n).warning("Min|"+a.AddCommas(l.BankListTo[i].MinDpLimit),"",null,m)}t("#lstDepositToBankName").append('<option value="'+l.BankListTo[i].BankName+'" bankId="'+l.BankListTo[i].AgBankId+'" '+c+">"+l.BankListTo[i].BankName+"</option>"),"disabled"!=t("#lstDepositFromBankName").attr("disabled")&&0==c.length&&0==r&&t("#lstDepositFromBankName > option").each(function(){return $from=t(this),$from.text()==l.BankListTo[i].BankName?(t("#lstDepositFromBankName").val(l.BankListTo[i].BankName),r=!0,!1):void 0})}t("#txtDepositToAccountName").val(l.BankListTo[d].AccName),t("#txtDepositToAccountNumber").val(l.BankListTo[d].AccNo),t("#lstDepositToBankName").change(function(){for(i=0;i<l.BankListTo.length;i++)t(this).find(":selected").attr("bankId")==l.BankListTo[i].AgBankId&&(t("#txtDepositToAccountName").val(l.BankListTo[i].AccName),t("#txtDepositToAccountNumber").val(l.BankListTo[i].AccNo),(new n).warning("Min|"+a.AddCommas(l.BankListTo[i].MinDpLimit),"",null,m))})}}else t("#tblLiveChat").css("display","table"),t("#txtDepositAmount").attr("disabled","disabled"),t("#lstDepositFromBankName").attr("disabled","disabled"),t("#txtDepositFromAccountName").attr("disabled","disabled"),t("#txtDepositFromAccountNumber").attr("disabled","disabled"),t("#lstDepositToBankName").attr("disabled","disabled"),t("#txtDepositToAccountName").attr("disabled","disabled"),t("#txtDepositToAccountNumber").attr("disabled","disabled"),t("#txtDepositRemark").attr("disabled","disabled"),t("#btnDepositSubmit").removeClass("themeBtn").addClass("themeBtnDisabled").unbind("click")}else t("#depositTitle").css("display","table-cell"),t("#questionTitle").css("display","none"),t("#tblDepositInner").css("display","none"),t("#tblDepositBoard").css("display","none"),t("#tblDespositPending").css("display","table"),t("#txtDepositFromBank").html("<div>"+l.PendingRequest.FromBankName+"</div><div>"+l.PendingRequest.FromAccountName+"</div><div>"+l.PendingRequest.FromBankAccount+"</div>"),t("#txtDepositToBank").html("<div>"+l.PendingRequest.ToBankName+"</div><div>"+l.PendingRequest.ToAccountName+"</div><div>"+l.PendingRequest.ToBankAccount+"</div>"),t("#txtDepositPendingAmount").html(l.PendingRequest.Amount),t("#txtDepositTransferDate").html(l.PendingRequest.TransDate.split(" ")[0]),t("#txtDepositPaymentMethod").html(l.PendingRequest.PaymentMethod),t("#txtDepositPendingRemark").html(l.PendingRequest.Remark),t("#txtDepositStatus").html(l.PendingRequest.Status);n()}function l(t,e){console.log(t+":"+e)}function m(e,i){t("#lblDepositMinDepo").html("("+i+")")}function d(){var i=new Object;i.amt=t("#txtDepositAmount").val(),i.fromBankName=t("#lstDepositFromBankName").val(),i.fromAccName=t("#txtDepositFromAccountName").val(),i.fromBankAcc=t("#txtDepositFromAccountNumber").val(),i.toBankId=t("#lstDepositToBankName option:selected").attr("bankId"),i.remark=t("#txtDepositRemark").val();var n=JSON.stringify(i);e.POST("/api/setDeposit",n,r,c)}function r(t,e,i){"1"==t&&o()}function c(t,e){console.log(t+":"+e)}return function(){o(),t("#btnDepositSubmit").click(d),t("#lstDepositFromBankName").change(function(){var e=t(this).val();t("#lstDepositToBankName > option").each(function(){t(this).val()==e&&t("#lstDepositToBankName").val(t(this).val()).trigger("change")})}),t("#btnDepositLiveChat").click(function(){a.PopUpPingBox("/app/livechat.html")}),t("#btnDepositLiveChat > div").css("background",'url("/core/Images/icons/chat_'+fontColor+'.png") no-repeat 0 4px')}})}(myGlobalRequire.define);