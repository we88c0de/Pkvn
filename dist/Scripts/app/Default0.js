function loginSuccess(e,t){sessionStorage.setItem("key",e),window.top.location=t}function checkIframe(){var e="off";try{e=document.querySelector("siteapi[iframe]").getAttribute("iframe").toLowerCase()}catch(t){}if("off"==e)window.self!==window.top&&(allow=!1,location.href="/app/img/blank.html");else if("all"==e)allow=!0;else if(window.self!==window.top){allow=!1;for(var r=e.split(","),n=0;n<r.length;n++)if(r[n].trim().length>0){var a="("+r[n].trim().replace(".",".").replace("-","-")+")",i=new RegExp(a);if(allow=-1!=document.referrer.search(i))break}allow||(location.href="/app/img/blank.html")}}function isMobile(){if(allow){var e=!1,t="auto";try{t=decodeURIComponent((new RegExp("[?|&]mobile=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||document.querySelector("siteapi[mobile]").getAttribute("mobile")||"auto"}catch(r){}var n=window.location.search;new RegExp("(mobile=)(.*)").test(n)||(n=0==n.length?"?mobile="+t:n+"&mobile="+t);var a="auto"==t&&/Mobi/i.test(navigator.userAgent);return("force"==t||a)&&(e=!0,location.href="/m"+n),e}}var allow=!0;try{window.top.location.hostname!==window.location.hostname&&checkIframe()}catch(err){checkIframe()}allow&&!isMobile()&&!function(e){e(["jquery","login","/info/site?noext","translate","utils"],function(e,t,r,n,a){var i=function(){function t(t,r){function n(t,r,n,i){var r=r+i,o=a.AddCommas(parseInt(r)),l=e('.SITEAPI[method="jackpot"][param="'+t+'"]').attr("separator");return"undefined"!=typeof l&&(o=o.replace(/,/g,l)),e('.SITEAPI[method="jackpot"][param="'+t+'"]').html(o),r}function i(){var a=e(t).find("result").find(r).text();a=parseInt(a.replace(/,/g,"")),l[r]||(l[r]=parseInt(a-134700)),l[r]=l[r]>0?l[r]:0;var i=134700/o*20;s=setInterval(function(){l[r]=n(r,l[r],a,i)},20)}var o=7e5,l={},s=null;return i()}function r(t,r,n,i){if(n||(n=0),i||(i=10),n)var o=e('.SITEAPI[method="'+t+'"][start="'+(n+1)+'"]');else var o=e('.SITEAPI[method="'+t+'"]');var l=0,s=0;r.each(function(){if(s++,s>n&&n+i>=s){l++;var r=e(this).find("name").text(),c=e(this).find("date").text();-1==c.indexOf("-")&&(c=a.MonthDay(e(this).find("date").text().split(" ")[0]));var f=e(this).find("amount").text();f=a.AddCommas(f),o.find("tbody > tr:nth-child("+l+") .name").html(r),o.find("tbody > tr:nth-child("+l+") .date").html(c),o.find("tbody > tr:nth-child("+l+") .amt").html(f);var d=t.split("-");d[2]==s.toString()&&("name"==d[1]?e('.SITEAPI[method="'+t+'"]').html(r):"date"==d[1]?e('.SITEAPI[method="'+t+'"]').html(c):"amt"==d[1]&&e('.SITEAPI[method="'+t+'"]').html(f))}})}var n={};return n.everything=function(r){0!=r.length&&e.ajax({type:"GET",url:"/api.aspx?action=everything&subAction="+r,datatype:"xml",success:function(r){var a=e(r).find("result").find("jackpot_winners"),i=a.find("winner");i.find("amount").each(function(){e(this).text(100*parseInt(e(this).text()))}),e(".SITEAPI").each(function(){var a=e(this).attr("method"),i=a.split("-")[0],o=e(this).attr("param");switch(o="undefined"!=typeof o?o:null,i){case"jackpot":t(r,o);break;case"message":n.Message(r);break;case"deposit":n.Deposits(r,a);break;case"withdraw":n.Withdraws(r,a);break;case"top_winners":n.TopWinners(r,a,e(this).attr("start"));break;case"top_referrals":n.TopReferrals(r,a);break;case"jackpot_winners":n.JackpotWinners(r,a)}})}})},n.Jackpot=function(e,r){t(null,e,r)},n.Message=function(t){var r=e(t).find("result").find("message").text(),n=e('.SITEAPI[method="message"]'),a=n.clone().html(r);n.replaceWith(a)},n.Deposits=function(t,n){var a=e(t).find("result").find("deposits"),i=a.find("deposit");r(n,i)},n.Withdraws=function(t,n){var a=e(t).find("result").find("withdraws"),i=a.find("withdraw");r(n,i)},n.TopWinners=function(t,n,a){var i=e(t).find("result").find("top_winners"),o=i.find("winner");r(n,o,parseInt(a)-1)},n.TopReferrals=function(t,n){var a=e(t).find("result").find("top_referrals"),i=a.find("referral");r(n,i)},n.JackpotWinners=function(t,n){var a=e(t).find("result").find("jackpot_winners"),i=a.find("winner");r(n,i)},n};e(document).ready(function(){function o(e,t){alert(t),location.reload()}function l(e,t,r){var n=t+(r?":"+r:"");return e.indexOf(n)>-1?e:e+=(e.length>0?",":"")+n}lang=a.GetCurrentUrlParam("lang")||r.defaultLang,a.SetCookie("lang",lang,365),(0==document.referrer.length||a.ParseUrl(document.referrer).hostname!=location.hostname)&&sessionStorage.setItem("ref",a.GetCurrentUrlParam("ref"));try{t(r.rkey)}catch(s){(new n).warning("Session Expired:failed loading login script","",null,o)}var c=e(".SITELOGIN[method=register]");"A"==c.prop("tagName")&&c.attr("href","javascript:void(0)").removeAttr("target"),c.click(function(){urlRef=a.GetCurrentUrlParam("ref");var e=sessionStorage.getItem("ref");null==urlRef&&null!=e&&"null"!=e&&(urlRef=e);var t=urlRef?"&ref="+urlRef:"";a.PopupCenter("/Register.aspx?lang="+lang+t,"Register Account",800,600)}).css({cursor:"pointer",visibility:"visible"});var f=e(".SITELOGIN[method=forgotpass]");"A"==f.prop("tagName")&&f.attr("href","javascript:void(0)").removeAttr("target"),f.click(function(){a.PopupCenter("/ForgetPass.aspx?lang="+lang,"Forgot Password",800,400)}).css({cursor:"pointer",visibility:"visible"});var d=e(".SITELOGIN[method=chat]");"A"==d.prop("tagName")&&d.attr("href","javascript:void(0)").removeAttr("target"),d.click(function(){a.PopupCenter("/app/livechat.html","Live Chat",460,300)}).css({cursor:"pointer",visibility:"visible"});var u=e(".SITELOGIN[method=login]"),p=u.prop("tagName");"A"==p&&u.attr("href","javascript:void(0)").removeAttr("target"),u.css({cursor:"pointer",visibility:"visible"});var h=new i;e.getJSON("/info/wcontent",function(e){for(var t=document.getElementsByTagName("*"),r=0;r<t.length;r++)for(var n=t[r].attributes,a=0;a<n.length;a++)if(0===n[a].nodeName.indexOf("wcontent")){var i=n[a].nodeName.split("-");i.length>1?t[r].setAttribute(i[1],e[n[a].nodeValue]):t[r].innerHTML=e[n[a].nodeValue]}});var m="";e(".SITEAPI").each(function(){var t=e(this).attr("method").split("-")[0],r=e(this).attr("param");r="undefined"!=typeof r?r:null,m="deposit"==t||"withdraw"==t?l(m,"payment_history",r):l(m,t,r)}),h.everything(m)})},function(e){var t=e.requireModules&&e.requireModules[0];alert("Failed to load "+t),location.reload()})}(myGlobalRequire.require);