!function(n){n(["jquery","translate","utils","aes-handler"],function(n,e,r,i){function o(o,s,c,l,u,f,d){var p=u;if(l&&n.trim(u).length>0){var x=i.Encrypt(u);p={enc:encodeURIComponent(x),iv:i.iv}}n.ajax({type:o,url:s,data:p,timeout:2e4,beforeSend:function(){n("#ajax_loading").css("display","inline-block"),"/api/singleLogin"!=s&&n("#errorBox").css("display","none")},complete:function(){n("#ajax_loading").css("display","none")},success:function(o){var u=o;try{if(l){var p=n.parseJSON(u);u=i.Decrypt(p.enc,p.iv)}if("json"==c){var p=u;l&&(p=n.parseJSON(u));var x=p.errcode,g=p.errtext,v=p.result}else if("xml"==c){var y=n(u);l&&(y=n(n.parseXML(u)));var v=n(y).find("result").text(),x=n(u).find("errcode").text(),g=n(u).find("errtext").text()}}catch(m){return void("/api/singleLogin"!=s?a(x,g,v):r.Logout())}"0"!=x&&null!=d?(new e).warning(g,x,d,t):null!=f&&f(v,x,g)},error:function(n,e,r){"/api/singleLogin"!=s&&t(e,r)}})}function t(e,r){n("#errorBox").html(r).css("display","block")}function a(e,r,i){n("#errorBox").html(e+": "+r+"<br>"+i).css("display","block")}var s={};return s.GET=function(n,e,r,i){o("GET",n,"json",!0,e,r,i)},s.POST=function(n,e,r,i){o("POST",n,"json",!0,e,r,i)},s.Message=function(n,e){o("POST","/api.aspx?action=message","xml",!1,"",n,e)},s})}(myGlobalRequire.define);